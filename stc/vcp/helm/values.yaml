global:
  namespace: null

a3gw:
  enabled: true
  replicaCount: 2
  image:
    repository: nexus.telenity.com/com/telenity/consolportals-sa-stc-vcp-a3gw
    tag: 1.0.0.1-amd64
    pullPolicy: IfNotPresent
  # Session affinity for stateful sessions (3 hours)
  sessionAffinity:
    enabled: true
    timeout: 10800
  logging:
    tailSidecar:
      enabled: true
      image: busybox:1.36

adminportal:
  enabled: true
  replicaCount: 2
  image:
    repository: nexus.telenity.com/com/telenity/consolportals-sa-stc-vcp-adminportal
    tag: 1.0.0.1-amd64
    pullPolicy: IfNotPresent

partnerportal:
  enabled: true
  replicaCount: 2
  image:
    repository: nexus.telenity.com/com/telenity/consolportals-sa-stc-vcp-partnerportal
    tag: 1.0.0.1-amd64
    pullPolicy: IfNotPresent

ccportal:
  enabled: true
  replicaCount: 2
  image:
    repository: nexus.telenity.com/com/telenity/consolportals-sa-stc-vcp-ccportal
    tag: 1.0.0.1-amd64
    pullPolicy: IfNotPresent

httpd:
  enabled: true
  replicaCount: 2
  image:
    repository: nexus.telenity.com/com/telenity/consolportals-sa-stc-vcp-httpd
    tag: 1.0.0.1-amd64
    pullPolicy: IfNotPresent
  # Optional resource limits
  resources:
    enabled: false  # Set to true to enable
    limits:
      memory: "512Mi"
      cpu: "500m"
    requests:
      memory: "256Mi"
      cpu: "250m"

service:
  a3gw:
    name: consolportals-sa-stc-vcp-a3gw-service
    type: ClusterIP
    ports:
    - name: portals
      port: 8444
      targetPort: 8444
    - name: auth
      port: 8445
      targetPort: 8445
    selector:
      component: vcp-a3gw
  adminportal:
    name: consolportals-sa-stc-vcp-adminportal-service
    type: ClusterIP
    ports:
    - port: 8080
      targetPort: 8080
    selector:
      component: vcp-adminportal
  partnerportal:
    name: consolportals-sa-stc-vcp-partnerportal-service
    type: ClusterIP
    ports:
    - port: 8082
      targetPort: 8082
    selector:
      component: vcp-partnerportal
  ccportal:
    name: consolportals-sa-stc-vcp-ccportal-service
    type: ClusterIP
    ports:
    - port: 8081
      targetPort: 8081
    selector:
      component: vcp-ccportal
  httpd:
    name: consolportals-sa-stc-vcp-httpd-service
    type: ClusterIP
    ports:
    - name: http
      port: 80
      targetPort: 80
    - name: https
      port: 443
      targetPort: 443
    selector:
      component: vcp-httpd

ingress:
  enabled: true
  className: nginx
  host: 'consolportals.internal.telenity.com'
  # Simple routing: everything goes to httpd, which handles proxy logic
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "300"
