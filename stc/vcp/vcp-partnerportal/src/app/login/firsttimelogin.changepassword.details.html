<div class="container">

    <div class="row">

        <div class="col-md-12">

            <h3 class="page-title">
                <span translate="{{$state.current.data.title}}" translate-compile></span>
            </h3>

            <div class="row">

                <div class="col-md-8 col-md-push-2">

                    <br>

                    <div class="portlet portlet-boxed">

                        <div class="portlet-header">
                            <h4 class="portlet-title">
                                {{ 'FirstTimeLogin.ChangePassword' | translate }}
                            </h4>
                        </div>


                        <div class="portlet-body">

                            <p>
                                <span ng-bind-html="'FirstTimeLogin.MessageBegin' | translate"></span>
                                <span ng-bind-html="'FirstTimeLogin.Message1' | translate"></span>
                                <span ng-bind-html="'FirstTimeLogin.Message2' | translate"></span>
                                <span ng-bind-html="'FirstTimeLogin.Message3' | translate"></span>
                                <span ng-bind-html="'FirstTimeLogin.Message4' | translate"></span>
                                <span ng-bind-html="'FirstTimeLogin.MessageEnd' | translate"></span>
                            </p>

                            <br>

                            <form class="form-horizontal parsley-form" novalidate id="form" name="form" method="post" enctype="multipart/form-data" autocomplete="off">

                                <div class="form-group">
                                    <label for="password" class="col-md-3">{{ 'FirstTimeLogin.NewPassword' | translate }}</label>
                                    <div class="col-md-6">
                                        <input id="password" name="password" type="password" class="form-control"
                                               ng-model="userAccount.password"
                                               ng-change="userAccount.confirmpassword = null;"
                                               ng-pattern="form.password.$dirty ? $root.Validators.UserPassword : false"
                                               ng-required="true" ng-minlength="8" maxlength="50" ng-maxlength="50"/>
                                        <ul ng-class="{ 'parsley-error-list': form.password.$dirty && form.password.$invalid }" ng-show="form.password.$dirty && form.password.$invalid">
                                            <li class="required" ng-show="!form.password.$error.minlength && form.password.$error.pattern">{{ 'CommonMessages.PasswordDoesNotMeetRequirements' | translate }}</li>
                                            <li class="required" ng-show="form.password.$error.required">{{ 'CommonMessages.RequiredFieldError' | translate }}</li>
                                            <li class="required" ng-show="form.password.$error.minlength">{{ 'CommonMessages.MinLengthError' | translate:{ min_length: 8 } }}</li>
                                            <li class="required" ng-show="form.password.$error.maxlength">{{ 'CommonMessages.MaxLengthError' | translate:{ max_length: 50 } }}</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="confirmpassword" class="col-md-3">{{ 'FirstTimeLogin.ReEnterNewPassword' | translate }}</label>
                                    <div class="col-md-6">
                                        <input id="confirmpassword" name="confirmpassword" type="password" class="form-control"
                                               ng-model="userAccount.confirmpassword"
                                               partnerportal-password-verify="userAccount.password"
                                               ng-required="true" ng-minlength="8" maxlength="50" ng-maxlength="50"/>
                                        <ul ng-class="{ 'parsley-error-list': form.confirmpassword.$dirty && form.confirmpassword.$invalid }"
                                            ng-show="form.confirmpassword.$dirty && form.confirmpassword.$invalid">
                                            <li class="required" ng-show="form.confirmpassword.$error.passwordVerify">{{ 'CommonMessages.PasswordError' | translate }}</li>
                                            <li class="required" ng-show="form.confirmpassword.$error.required">{{ 'CommonMessages.RequiredFieldError' | translate }}</li>
                                            <li class="required" ng-show="form.confirmpassword.$error.minlength">{{ 'CommonMessages.MinLengthError' | translate:{ min_length: 8 } }}</li>
                                            <li class="required" ng-show="form.confirmpassword.$error.maxlength">{{ 'CommonMessages.MaxLengthError' | translate:{ max_length: 50 } }}</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-6 col-md-push-3">
                                        <button type="submit" class="btn btn-danger"
                                                ng-disabled="form.$invalid"
                                                ng-click="save(userAccount.password);">
                                            {{ 'FirstTimeLogin.ChangePassword' | translate }}
                                        </button>
                                    </div>
                                </div>

                            </form>

                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>

</div>
