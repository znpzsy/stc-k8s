{{- $httpdService := include "consolportals.serviceName" (dict "component" "httpd") -}}
{{- $a3gwService := include "consolportals.serviceName" (dict "component" "a3gw") -}}

████████████████████████████████████████████████████████████████████████████████
  ConsolPortals STC VCP - Successfully Deployed! 
████████████████████████████████████████████████████████████████████████████████

Release Name:    {{ .Release.Name }}
Namespace:       {{ .Release.Namespace }}
Chart Version:   {{ .Chart.Version }}
App Version:     {{ .Chart.AppVersion }}

Components Deployed:
{{- if .Values.httpd.enabled }}
  ✓ HTTPD          ({{ .Values.httpd.replicaCount }} replicas)
{{- end }}
{{- if .Values.a3gw.enabled }}
  ✓ A3GW           ({{ .Values.a3gw.replicaCount }} replicas)
{{- end }}
{{- if .Values.adminportal.enabled }}
  ✓ Admin Portal   ({{ .Values.adminportal.replicaCount }} replicas)
{{- end }}
{{- if .Values.ccportal.enabled }}
  ✓ CC Portal      ({{ .Values.ccportal.replicaCount }} replicas)
{{- end }}
{{- if .Values.partnerportal.enabled }}
  ✓ Partner Portal ({{ .Values.partnerportal.replicaCount }} replicas)
{{- end }}

────────────────────────────────────────────────────────────────────────────────
  ACCESS YOUR APPLICATION
────────────────────────────────────────────────────────────────────────────────

{{- if .Values.ingress.enabled }}
{{- if .Values.ingress.httpd.local.enabled }}

Local Development Access:
  URL: http://{{ .Values.ingress.httpd.local.host }}

{{- end }}
{{- if .Values.ingress.httpd.hosts }}
{{- range .Values.ingress.httpd.hosts }}

Production Access:
  URL: http://{{ .host }}
{{- end }}
{{- end }}
{{- else }}

Port Forwarding (for local access):

  # HTTPD Service
  kubectl port-forward svc/{{ $httpdService }} 9080:80 9443:443 -n {{ .Release.Namespace }}
  Then access: http://localhost:9080

  # A3GW Service
  kubectl port-forward svc/{{ $a3gwService }} 8444:8444 8445:8445 -n {{ .Release.Namespace }}

{{- end }}

────────────────────────────────────────────────────────────────────────────────
  MONITORING COMMANDS
────────────────────────────────────────────────────────────────────────────────

View Pods:
  kubectl get pods -n {{ .Release.Namespace }}

View Services:
  kubectl get services -n {{ .Release.Namespace }}

View Logs:
  kubectl logs -f deployment/consolportals-sa-stc-vcp-httpd-deployment -n {{ .Release.Namespace }}
  kubectl logs -f deployment/consolportals-sa-stc-vcp-a3gw-deployment -n {{ .Release.Namespace }}

Describe Resources:
  kubectl describe pod <pod-name> -n {{ .Release.Namespace }}

────────────────────────────────────────────────────────────────────────────────
  UPGRADE & ROLLBACK
────────────────────────────────────────────────────────────────────────────────

Upgrade:
  helm upgrade {{ .Release.Name }} . -n {{ .Release.Namespace }}

Rollback:
  helm rollback {{ .Release.Name }} -n {{ .Release.Namespace }}

View History:
  helm history {{ .Release.Name }} -n {{ .Release.Namespace }}

────────────────────────────────────────────────────────────────────────────────
  NEXT STEPS
────────────────────────────────────────────────────────────────────────────────

1. Verify all pods are running:
   kubectl get pods -n {{ .Release.Namespace }}

2. Check service endpoints:
   kubectl get services -n {{ .Release.Namespace }}

3. {{- if .Values.ingress.enabled }}
   Access your application via ingress
   {{- else }}
   Set up port forwarding to access your application
   {{- end }}

For more information, see the README.md file in the chart directory.

████████████████████████████████████████████████████████████████████████████████
